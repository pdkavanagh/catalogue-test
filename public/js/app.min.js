class Product extends React.Component{render(){let a,b=this.props.data.isSale,c=this.props.data.isExclusive;return b?a=React.createElement("div",{className:"c-tag"},"Sale"):c&&(a=React.createElement("div",{className:"c-tag"},"Exclusive")),React.createElement("div",{className:"c-product"+(b?" c-product--sale":"")+(c?" c-product--exclusive":"")},React.createElement("img",{src:"img/products/"+this.props.data.productImage,alt:this.props.data.productName}),a,React.createElement("div",{className:"c-product__meta"},React.createElement("span",{className:"c-product__name"},this.props.data.productName),React.createElement("span",{className:"c-product__price"},this.props.data.price)))}}const apiEndpoint="api/products.json";class Catalogue extends React.Component{constructor(a){super(a),this.state={isLoaded:!1,error:null,productData:[]},this.filterType2Func={"is-sale":this.filterIsSale,"is-exclusive":this.filterIsExclusive,"size-xs":this.filterSizeXS,"size-s":this.filterSizeS,"size-m":this.filterSizeM,"size-l":this.filterSizeL,"size-xl":this.filterSizeXL,"price-lt15":this.filterPriceLT15,"price-lt20":this.filterPriceLT20,"price-lt25":this.filterPriceLT25}}componentDidMount(){fetch(apiEndpoint).then(a=>a.json()).then(a=>{this.setState({isLoaded:!0,productData:a})},a=>{this.setState({isLoaded:!0,error:a})})}filterIsSale(a){return a.isSale}filterIsExclusive(a){return a.isExclusive}filterSizeXS(a){return a.size.includes("XS")}filterSizeS(a){return a.size.includes("S")}filterSizeM(a){return a.size.includes("M")}filterSizeL(a){return a.size.includes("L")}filterSizeXL(a){return a.size.includes("XL")}filterPriceLT15(a){return 15>+a.price.replace("$","")}filterPriceLT20(a){return 20>+a.price.replace("$","")}filterPriceLT25(a){return 25>+a.price.replace("$","")}render(){const{error:a,isLoaded:b}=this.state,c=this.props.productFilter;let d=this.state.productData;return""!==c&&(d=d.filter(this.filterType2Func[c])),a?React.createElement("div",null,"Error: ",a.message):b?React.createElement("div",{className:"c-catalogue"},d.map(f=>React.createElement(Product,{key:f.index,data:f}))):React.createElement("div",null,"Loading...")}}class Header extends React.Component{constructor(a){super(a),this.handleChange=this.handleChange.bind(this)}handleChange(a){this.props.onFilterChange(a.target.value)}render(){return React.createElement("header",{className:"c-catalogue-header"},React.createElement("h1",{className:"c-heading c-catalogue-header__heading"},"Women\u2019s tops"),React.createElement("form",{className:"c-filter"},React.createElement("select",{className:"c-filter__select",value:this.props.productFilter,onChange:this.handleChange},React.createElement("option",{value:""},"No filtering"),React.createElement("option",{value:"is-sale"},"Is on sale"),React.createElement("option",{value:"is-exclusive"},"Is exclusive"),React.createElement("optgroup",{label:"Filter by size"},React.createElement("option",{value:"size-xs"},"XS"),React.createElement("option",{value:"size-s"},"S"),React.createElement("option",{value:"size-m"},"M"),React.createElement("option",{value:"size-l"},"L"),React.createElement("option",{value:"size-xl"},"XL")),React.createElement("optgroup",{label:"Filter by price"},React.createElement("option",{value:"price-lt15"},"< $15"),React.createElement("option",{value:"price-lt20"},"< $20"),React.createElement("option",{value:"price-lt25"},"< $25")))))}}class App extends React.Component{constructor(a){super(a),this.state={productFilter:""},this.handleFilterChange=this.handleFilterChange.bind(this)}handleFilterChange(a){this.setState({productFilter:a})}render(){return React.createElement(React.Fragment,null,React.createElement(Header,{productFilter:this.state.productFilter,onFilterChange:this.handleFilterChange}),React.createElement(Catalogue,{productFilter:this.state.productFilter,onFilterChange:this.handleFilterChange}))}}ReactDOM.render(React.createElement(App,null),document.getElementById("app"));